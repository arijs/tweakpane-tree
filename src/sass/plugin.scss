// Import core styles
@use '../../node_modules/@tweakpane/core/lib/sass/tp';

// Additional style for the tree plugin
.#{tp.$prefix}-treev {
	// Extend a general input view style
	@extend %tp-input;

	cursor: default;
	// Remove fixed min-height, let the tree determine the height
	height: auto;
	position: relative;

	&.#{tp.$prefix}-v-disabled {
		opacity: 0.5;
	}

	&_container {
		padding: 4px 0;
	}

	// Tree node (with children) - using <details>
	&_node {
		margin: 0;
		padding: 0;
	}

	// Summary element for tree nodes
	&_summary {
		color: tp.cssVar('input-fg');
		cursor: pointer;
		list-style: none;
		padding: 4px 8px;
		user-select: none;

		&:hover {
			background-color: tp.cssVar('button-bg-hover');
		}

		// Hide default disclosure triangle
		&::-webkit-details-marker {
			display: none;
		}

		// Custom disclosure triangle
		&::before {
			content: 'â–¸';
			display: inline-block;
			margin-right: 4px;
			transition: transform 0.15s ease;
		}
	}

	// When details is open, rotate the triangle
	&_node[open] > &_summary::before {
		transform: rotate(90deg);
	}

	// Selectable summary (node with value)
	&_summary#{&}_selectable {
		&:hover {
			background-color: tp.cssVar('button-bg-active');
		}
	}

	// Children container
	&_children {
		padding-left: 16px;
	}

	// Leaf option
	&_option {
		color: tp.cssVar('input-fg');
		cursor: pointer;
		padding: 4px 8px;
		user-select: none;

		&:hover {
			background-color: tp.cssVar('button-bg-hover');
		}

		&:active {
			background-color: tp.cssVar('button-bg-active');
		}
	}
}
